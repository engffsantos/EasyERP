{% extends "base.html" %}
{% block title %}Cadastro - EasyERP{% endblock %}

{% block head %}
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block navbar %}{% endblock %}

{% block content %}
<div class="login-container">
  <div class="login-card">
    <h1 class="logo">Cadastro <span>EasyERP</span></h1>
    <form class="login-form" method="POST" action="{{ url_for('auth.register') }}">
      <label for="nome">Nome completo</label>
      <input type="text" id="nome" name="nome" placeholder="Seu nome" required>

      <label for="email">E-mail</label>
      <input type="email" id="email" name="email" placeholder="seuemail@dominio.com" required>

      <label for="senha">Senha</label>
      <input type="password" id="senha" name="senha" placeholder="********" required>

      <label for="perfil_id">Perfil</label>
      <select id="perfil_id" name="perfil_id" required class="form-select" style="padding: 12px; margin-bottom: 20px; border-radius: 8px;">
        <option value="" disabled selected>Selecione um perfil</option>
        {% for perfil in perfis %}
          <option value="{{ perfil.id }}">{{ perfil.nome }}</option>
        {% endfor %}
      </select>

      <label for="supervisor_id">Supervisor (opcional)</label>
      <select id="supervisor_id" name="supervisor_id" class="form-select" style="padding: 12px; margin-bottom: 20px; border-radius: 8px;">
        <option value="">Sem supervisor</option>
        {% for supervisor in supervisores %}
          <option value="{{ supervisor.id }}">{{ supervisor.nome }}</option>
        {% endfor %}
      </select>

      {% if error %}
        <div class="alert alert-danger mt-2" style="font-size: 14px;">
          {{ error }}
        </div>
      {% endif %}

      <button type="submit">Cadastrar</button>
      <a href="{{ url_for('auth.login') }}" class="esqueci-senha">Já possui conta? Entrar</a>
    </form>
    <footer>
      © {{ current_year }} EasyData360 – Todos os direitos reservados
    </footer>
  </div>
</div>
{% endblock %}
